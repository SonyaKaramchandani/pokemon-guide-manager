parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"OJHT":[function(require,module,exports) {
"use strict";function t(t){window.require(["esri/layers/FeatureLayer","esri/geometry/Point","esri/graphic","esri/dijit/Popup","esri/symbols/TextSymbol","esri/layers/LabelClass","esri/Color","esri/symbols/PictureMarkerSymbol","dojo/dom-class","dojo/dom-construct","dojo/on","dojo/_base/array","esri/geometry/Polygon","esri/map","esri/layers/VectorTileLayer","dojo/domReady!"],function(e,o,n,r,i,a,s,p,d,l,u,c,v,h,g){t({FeatureLayer:e,Point:o,Graphic:n,Popup:r,TextSymbol:i,LabelClass:a,Color:s,PictureMarkerSymbol:p,domClass:d,domConstruct:l,on:u,array:c,Polygon:v,Map:h,VectorTileLayer:g})})}function e(t,e){for(var o="",n=e.graphics.indexOf(t),r=t.attributes.sourceData.Events,i=0;i<r.length;i++)o+="<div class='popup-row-style' data-graphicindex="+n+" data-objectid="+t.attributes.ObjectID+" data-eventindex="+i+" data-eventid="+r[i].EventId+">",r[i].HasOutlookReport&&(o+="<div style='margin-top: -3px;'><span class='popup-outlook'><svg width='9' height='10' viewBox='0 0 9 10' fill='none' xmlns='http://www.w3.org/2000/svg'>",o+="<path d='M7.875 0H1.125C0.50368 0 0 0.559644 0 1.25V8.75C0 9.44036 0.50368 10 1.125 10H7.875C8.49632 10 9 9.44036 9 8.75V1.25C9 0.559644 8.49632 0 7.875 0Z' />",o+="<path d='M2 3H7' stroke='white' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M2 5H7' stroke='white' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M2 7H5' stroke='white' stroke-linecap='round' stroke-linejoin='round' />",o+="</svg>Outlook Report</span></div>"),o+="<div class='popup-date'>",o+="<svg width='11' height='11' viewBox='0 0 11 11' fill='none' xmlns='http://www.w3.org/2000/svg'>",o+="<path d='M9.4 2.19989H1.6C1.26863 2.19989 1 2.46852 1 2.7999V9.39996C1 9.73134 1.26863 9.99997 1.6 9.99997H9.4C9.73137 9.99997 10 9.73134 10 9.39996V2.7999C10 2.46852 9.73137 2.19989 9.4 2.19989Z' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M1 4.59998H10' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M3.3999 3.10002V1' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M7.6001 3.10002V1' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="</svg>",o+=r[i].StartDate+" - "+r[i].EndDate+"</div>",o+="<div class='popup-event-title'>"+r[i].EventTitle+"</div>",o+="</div>";return o="<div id='popup-row-container'>"+o+"</div>",o+="<div id='popup-detail-container' style='display: none;'>",o+="<div id='sp-prioritytitle'>",o+="<span class='popup-outlook' style='display:none;'><svg width='9' height='10' viewBox='0 0 9 10' fill='none' xmlns='http://www.w3.org/2000/svg'>",o+="<path d='M7.875 0H1.125C0.50368 0 0 0.559644 0 1.25V8.75C0 9.44036 0.50368 10 1.125 10H7.875C8.49632 10 9 9.44036 9 8.75V1.25C9 0.559644 8.49632 0 7.875 0Z' />",o+="<path d='M2 3H7' stroke='white' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M2 5H7' stroke='white' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M2 7H5' stroke='white' stroke-linecap='round' stroke-linejoin='round' />",o+="</svg>Outlook Report</span>",o+="</div>",o+="<div class='popup-date'>",o+="<svg width='11' height='11' viewBox='0 0 11 11' fill='none' xmlns='http://www.w3.org/2000/svg'>",o+="<path d='M9.4 2.19989H1.6C1.26863 2.19989 1 2.46852 1 2.7999V9.39996C1 9.73134 1.26863 9.99997 1.6 9.99997H9.4C9.73137 9.99997 10 9.73134 10 9.39996V2.7999C10 2.46852 9.73137 2.19989 9.4 2.19989Z' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M1 4.59998H10' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M3.3999 3.10002V1' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="<path d='M7.6001 3.10002V1' stroke='#AAAAAA' stroke-linecap='round' stroke-linejoin='round' />",o+="</svg>",o+="<span id='sp-startdate'></span> - <span id='sp-enddate'></span></div>",o+="<div><div id='sp-eventtitle'></span></div>",o+="<div style='line-height: 1rem;'><p id='sp-summary' /></div>",o+="<div class='popup-btn-container'><button id='popup-back-btn' class='btn'>Back</button>",o+="<button id='popup-open-details-btn' data-eventid='-1' class='btn'>Open details</button></div>",o+="</div>"}function o(t,e){for(var o=[],n=0;n<t.length;n++){for(var r=e(t[n]),i=[],a=null,s=null,p=[],d=0;d<r.length;d++){var l=r[d].split(" "),u=Number(l[0]),c=Number(l[1]);null!==a&&u<a-180?(p.push([u,c]),u=a,c=s):(a=u,s=c),i.push([u,c])}p.length>0&&(p.push(p[0]),o.push(p)),i.length>0&&o.push(i)}return o}function n(t){for(var e=[],o=t.countryArray,n=t.eventArray,r=[],i=0;i<o.length;i++){var a=o[i],s=a.CountryPoint.replace("POINT","").replace("(","").replace(")","").trim().split(" ");e.push({CountryGeonameId:a.CountryGeonameId,CountryName:a.CountryName,x:Number(s[0]),y:Number(s[1]),NumOfEvents:0,Events:[],FlagOutlookReport:!1}),r.push(a.CountryName)}for(var p=0;p<n.length;p++){var d=n[p],l=r.indexOf(d.CountryName);l>-1&&(e[l].NumOfEvents+=1,e[l].Events.push(d),d.HasOutlookReport&&(e[l].FlagOutlookReport=!0))}for(var u=e.length-1;u>=0;u--)0==e[u].NumOfEvents&&0==e[u].Events.length&&e.splice(u,1);return e}function r(t,o,n,r,s,p,d,l,u){var c=t.on("show",function(){setTimeout(function(){p(s.CountryGeonameId),a(o),c.remove()},100)}),v=e(n,r);t.setTitle(s.CountryName),t.setContent(v);var h=jQuery.extend(!0,{},n.geometry);o.geographicExtent.xmin>n.geometry.x?h.x=n.geometry.x+360*Math.floor(Math.abs((o.geographicExtent.xmax-n.geometry.x)/360)):o.geographicExtent.xmax<n.geometry.x&&(h.x=n.geometry.x-360*Math.floor(Math.abs((o.geographicExtent.xmin-n.geometry.x)/360))),i(r,d,l,u),1==$(".popup-row-style").length&&$(".popup-row-style").click(),t.show(h)}function i(t,e,o,n){$(".popup-row-style").click(function(o){var n=$(o.currentTarget),r=t.graphics[Number(n.attr("data-graphicindex"))].attributes.sourceData.Events[Number(n.attr("data-eventindex"))],i=$("#popup-detail-container");i.find("#sp-startdate").text(r.StartDate),i.find("#sp-enddate").text(r.EndDate),i.find("#sp-prioritytitle").find(".gd-priority").attr("class","gd-priority "+r.PriorityTitle.toLowerCase()),r.HasOutlookReport?i.find("#sp-prioritytitle").find(".popup-outlook").show():i.find("#sp-prioritytitle").find(".popup-outlook").hide(),i.find("#sp-startdate").text(r.StartDate),i.find("#sp-eventtitle").text(r.EventTitle),i.find("#sp-summary").html(r.Summary.length>200?"<p style='line-height: 1rem;'>"+r.Summary.substring(0,200)+"...</p>":"<p style='line-height: 1rem;'>"+r.Summary+"</p>"),$("#popup-open-details-btn").attr("data-eventid",r.EventId),$("#popup-row-container").hide(),i.show(),e(r.EventId),o.originalEvent&&window.biod.map.gaEvent("CLICK_EVENT_TOOLTIP",r.EventId+" | "+r.EventTitle)}),$("#popup-back-btn").click(function(t){$("#popup-detail-container").hide(),$("#popup-row-container").show(),o(),t.originalEvent&&window.biod.map.gaEvent("RETURN_TO_EVENT_LIST_TOOLTIP")}),$("#popup-open-details-btn").click(function(t){var e=$("#gd-sidebar-toggle");e.hasClass("collapsed")&&e.click();var o=t.currentTarget.getAttribute("data-eventid");if($("#event-".concat(o)).click(),t.originalEvent){var n=$(t.currentTarget).closest("#popup-detail-container").find("#sp-eventtitle")[0];window.biod.map.gaEvent("OPEN_EVENT_DETAILS",o+" | "+n.innerText,parseInt(o))}}),$(".esriPopup .titleButton.close").unbind("click"),$(".esriPopup .titleButton.close").click(function(t){if(n(),t.originalEvent){var e=$(t.currentTarget).closest(".titlePane").find(".title")[0];window.biod.map.gaEvent("CLOSE_COUNTRY_TOOLTIP",e.innerHTML)}})}function a(t){if(t.infoWindow.isShowing){var e=t.toScreen(t.infoWindow.location),o=Number($(".esriPopupWrapper").css("height").replace("px",""));t.extent.contains(t.toMap({x:e.x,y:e.y-o-5}))||setTimeout(function(){t.centerAt(t.infoWindow.location)},400)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s={whenEsriReady:t,showPinPopup:r,parseCountryShape:o,groupEventsByCountries:n};exports.default=s;
},{}],"EDTP":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"pOJS":[function(require,module,exports) {
module.exports=function(o){return null!=o&&null!=o.constructor&&"function"==typeof o.constructor.isBuffer&&o.constructor.isBuffer(o)};
},{}],"S1cf":[function(require,module,exports) {
"use strict";var e=require("./helpers/bind"),r=require("is-buffer"),t=Object.prototype.toString;function n(e){return"[object Array]"===t.call(e)}function o(e){return"[object ArrayBuffer]"===t.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function f(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function u(e){return"string"==typeof e}function c(e){return"number"==typeof e}function a(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function s(e){return"[object Date]"===t.call(e)}function p(e){return"[object File]"===t.call(e)}function y(e){return"[object Blob]"===t.call(e)}function d(e){return"[object Function]"===t.call(e)}function b(e){return l(e)&&d(e.pipe)}function j(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function v(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function g(e,r){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var t=0,o=e.length;t<o;t++)r.call(null,e[t],t,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.call(null,e[i],i,e)}function B(){var e={};function r(r,t){"object"==typeof e[t]&&"object"==typeof r?e[t]=B(e[t],r):e[t]=r}for(var t=0,n=arguments.length;t<n;t++)g(arguments[t],r);return e}function h(){var e={};function r(r,t){"object"==typeof e[t]&&"object"==typeof r?e[t]=h(e[t],r):e[t]="object"==typeof r?h({},r):r}for(var t=0,n=arguments.length;t<n;t++)g(arguments[t],r);return e}function A(r,t,n){return g(t,function(t,o){r[o]=n&&"function"==typeof t?e(t,n):t}),r}module.exports={isArray:n,isArrayBuffer:o,isBuffer:r,isFormData:i,isArrayBufferView:f,isString:u,isNumber:c,isObject:l,isUndefined:a,isDate:s,isFile:p,isBlob:y,isFunction:d,isStream:b,isURLSearchParams:j,isStandardBrowserEnv:m,forEach:g,merge:B,deepMerge:h,extend:A,trim:v};
},{"./helpers/bind":"EDTP","is-buffer":"pOJS"}],"H6Qo":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}if(a){var l=i.indexOf("#");-1!==l&&(i=i.slice(0,l)),i+=(-1===i.indexOf("?")?"?":"&")+a}return i};
},{"./../utils":"S1cf"}],"rj2i":[function(require,module,exports) {
"use strict";var t=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},e.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},e.prototype.forEach=function(e){t.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=e;
},{"./../utils":"S1cf"}],"woEt":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(t,u,e){return r.forEach(e,function(r){t=r(t,u)}),t};
},{"./../utils":"S1cf"}],"V30M":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"M8l6":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"S1cf"}],"YdsM":[function(require,module,exports) {
"use strict";module.exports=function(e,i,s,t,n){return e.config=i,s&&(e.code=s),e.request=t,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e};
},{}],"bIiH":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"YdsM"}],"aS8y":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,r){var u=r.config.validateStatus;!u||u(r.status)?e(r):s(t("Request failed with status code "+r.status,r.config,null,r.request,r))};
},{"./createError":"bIiH"}],"ZeD7":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"S1cf"}],"w7LF":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"S1cf"}],"dn2M":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"S1cf"}],"KRuG":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),t=require("./../helpers/buildURL"),s=require("./../helpers/parseHeaders"),o=require("./../helpers/isURLSameOrigin"),n=require("../core/createError");module.exports=function(a){return new Promise(function(i,u){var l=a.data,d=a.headers;e.isFormData(l)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(a.auth){var c=a.auth.username||"",f=a.auth.password||"";d.Authorization="Basic "+btoa(c+":"+f)}if(p.open(a.method.toUpperCase(),t(a.url,a.params,a.paramsSerializer),!0),p.timeout=a.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,t={data:a.responseType&&"text"!==a.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:e,config:a,request:p};r(i,u,t),p=null}},p.onabort=function(){p&&(u(n("Request aborted",a,"ECONNABORTED",p)),p=null)},p.onerror=function(){u(n("Network Error",a,null,p)),p=null},p.ontimeout=function(){u(n("timeout of "+a.timeout+"ms exceeded",a,"ECONNABORTED",p)),p=null},e.isStandardBrowserEnv()){var h=require("./../helpers/cookies"),m=(a.withCredentials||o(a.url))&&a.xsrfCookieName?h.read(a.xsrfCookieName):void 0;m&&(d[a.xsrfHeaderName]=m)}if("setRequestHeader"in p&&e.forEach(d,function(e,r){void 0===l&&"content-type"===r.toLowerCase()?delete d[r]:p.setRequestHeader(r,e)}),a.withCredentials&&(p.withCredentials=!0),a.responseType)try{p.responseType=a.responseType}catch(T){if("json"!==a.responseType)throw T}"function"==typeof a.onDownloadProgress&&p.addEventListener("progress",a.onDownloadProgress),"function"==typeof a.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",a.onUploadProgress),a.cancelToken&&a.cancelToken.promise.then(function(e){p&&(p.abort(),u(e),p=null)}),void 0===l&&(l=null),p.send(l)})};
},{"./../utils":"S1cf","./../core/settle":"aS8y","./../helpers/buildURL":"H6Qo","./../helpers/parseHeaders":"ZeD7","./../helpers/isURLSameOrigin":"w7LF","../core/createError":"bIiH","./../helpers/cookies":"dn2M"}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"BXyq":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./utils"),r=require("./helpers/normalizeHeaderName"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function i(){var t;return void 0!==e&&"[object process]"===Object.prototype.toString.call(e)?t=require("./adapters/http"):"undefined"!=typeof XMLHttpRequest&&(t=require("./adapters/xhr")),t}var o={adapter:i(),transformRequest:[function(e,n){return r(n,"Accept"),r(n,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(e){o.headers[e]={}}),t.forEach(["post","put","patch"],function(e){o.headers[e]=t.merge(n)}),module.exports=o;
},{"./utils":"S1cf","./helpers/normalizeHeaderName":"M8l6","./adapters/http":"KRuG","./adapters/xhr":"KRuG","process":"pBGv"}],"YZjV":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],"a2Uu":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"uz6X":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),s=require("../defaults"),t=require("./../helpers/isAbsoluteURL"),n=require("./../helpers/combineURLs");function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(d){return o(d),d.baseURL&&!t(d.url)&&(d.url=n(d.baseURL,d.url)),d.headers=d.headers||{},d.data=r(d.data,d.headers,d.transformRequest),d.headers=e.merge(d.headers.common||{},d.headers[d.method]||{},d.headers||{}),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete d.headers[e]}),(d.adapter||s.adapter)(d).then(function(e){return o(d),e.data=r(e.data,e.headers,d.transformResponse),e},function(e){return a(e)||(o(d),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,d.transformResponse))),Promise.reject(e)})};
},{"./../utils":"S1cf","./transformData":"woEt","../cancel/isCancel":"V30M","../defaults":"BXyq","./../helpers/isAbsoluteURL":"YZjV","./../helpers/combineURLs":"a2Uu"}],"OHvn":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){r=r||{};var o={};return e.forEach(["url","method","params","data"],function(e){void 0!==r[e]&&(o[e]=r[e])}),e.forEach(["headers","auth","proxy"],function(a){e.isObject(r[a])?o[a]=e.deepMerge(t[a],r[a]):void 0!==r[a]?o[a]=r[a]:e.isObject(t[a])?o[a]=e.deepMerge(t[a]):void 0!==t[a]&&(o[a]=t[a])}),e.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],function(e){void 0!==r[e]?o[e]=r[e]:void 0!==t[e]&&(o[e]=t[e])}),o};
},{"../utils":"S1cf"}],"OvAf":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=require("../helpers/buildURL"),r=require("./InterceptorManager"),o=require("./dispatchRequest"),i=require("./mergeConfig");function s(e){this.defaults=e,this.interceptors={request:new r,response:new r}}s.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=i(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},s.prototype.getUri=function(e){return e=i(this.defaults,e),t(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(r,o){return this.request(e.merge(o||{},{method:t,url:r}))}}),e.forEach(["post","put","patch"],function(t){s.prototype[t]=function(r,o,i){return this.request(e.merge(i||{},{method:t,url:r,data:o}))}}),module.exports=s;
},{"./../utils":"S1cf","../helpers/buildURL":"H6Qo","./InterceptorManager":"rj2i","./dispatchRequest":"uz6X","./mergeConfig":"OHvn"}],"mIKj":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"tsWd":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"mIKj"}],"X8jb":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"nUiQ":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),n=require("./core/Axios"),u=require("./core/mergeConfig"),t=require("./defaults");function i(u){var t=new n(u),i=r(n.prototype.request,t);return e.extend(i,n.prototype,t),e.extend(i,t),i}var l=i(t);l.Axios=n,l.create=function(e){return i(u(l.defaults,e))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),module.exports=l,module.exports.default=l;
},{"./utils":"S1cf","./helpers/bind":"EDTP","./core/Axios":"OvAf","./core/mergeConfig":"OHvn","./defaults":"BXyq","./cancel/Cancel":"mIKj","./cancel/CancelToken":"tsWd","./cancel/isCancel":"V30M","./helpers/spread":"X8jb"}],"dZBD":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"nUiQ"}],"OK3k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("axios"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t,r){return e.default.get(window.biod.urls.getDestinationAirports,{params:{EventId:t,GeonameIds:r||"-1"}})}function o(t){return e.default.get(window.biod.urls.getCountryShapeAsText,{params:{GeonameId:t}})}var n={getDestinationAirport:r,getCountryShape:o};exports.default=n;
},{"axios":"dZBD"}],"tCqu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.countryPointLabelClassObject=exports.countryPointFlagOutlookReportPictureMarkerSymbolObject=exports.featureAirportPointCollection=exports.featureCountryPointCollection=exports.featureCountryPolygonCollection=void 0;var I={featureSet:{features:[],geometryType:"esriGeometryPolygon"},layerDefinition:{geometryType:"esriGeometryPolygon",objectIdField:"ObjectID",drawingInfo:{renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[41,97,169,70],outline:{type:"esriSLS",style:"esriSLSSolid",color:[41,97,169,255],width:1}}}},fields:[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"}]}};exports.featureCountryPolygonCollection=I;var e={featureSet:{features:[],geometryType:"esriGeometryPoint"},layerDefinition:{geometryType:"esriGeometryPoint",objectIdField:"ObjectID",drawingInfo:{renderer:{type:"simple",symbol:{type:"esriPMS",imageData:"PHN2ZyB3aWR0aD0iNDQiIGhlaWdodD0iNTEiIHZpZXdCb3g9IjAgMCA0NCA1MSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNiAxMEMzNiA4Ljg5NTQzIDM1LjEwNDYgOCAzNCA4SDEwQzguODk1NDMgOCA4IDguODk1NDMgOCAxMFYzNEM4IDM1LjEwNDYgOC44OTU0MyAzNiAxMCAzNkwxNSAzNkMxNS42Mjk1IDM2IDE2LjIyMjMgMzYuMjk2NCAxNi42IDM2LjhMMjAuNCA0MS44NjY3QzIxLjIgNDIuOTMzMyAyMi44IDQyLjkzMzMgMjMuNiA0MS44NjY3TDI3LjQgMzYuOEMyNy43Nzc3IDM2LjI5NjQgMjguMzcwNSAzNiAyOSAzNkgzNEMzNS4xMDQ2IDM2IDM2IDM1LjEwNDYgMzYgMzRWMTBaIiBmaWxsPSIjMjk2MUE5Ii8+PC9nPjxkZWZzPjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZCIgeD0iMCIgeT0iMCIgd2lkdGg9IjQ0IiBoZWlnaHQ9IjUwLjY2NjciIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVGbG9vZCBmbG9vZC1vcGFjaXR5PSIwIiByZXN1bHQ9IkJhY2tncm91bmRJbWFnZUZpeCIvPjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIi8+PGZlT2Zmc2V0Lz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0Ii8+PGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93Ii8+PGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3ciIHJlc3VsdD0ic2hhcGUiLz48L2ZpbHRlcj48L2RlZnM+PC9zdmc+",contentType:"image/svg+xml",width:31.43,height:36.43,angle:0,xoffset:0,yoffset:13}}},fields:[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"}]}};exports.featureCountryPointCollection=e;var i={featureSet:{features:[],geometryType:"esriGeometryPoint"},layerDefinition:{geometryType:"esriGeometryPoint",objectIdField:"ObjectID",drawingInfo:{renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[211,89,85,255],size:5,angle:0,xoffset:0,yoffset:0,outline:{color:[211,89,85,51],width:4}}}},fields:[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"}]}};exports.featureAirportPointCollection=i;var l={type:"esriPMS",imageData:"PHN2ZyB3aWR0aD0iNDQiIGhlaWdodD0iNTEiIHZpZXdCb3g9IjAgMCA0NCA1MSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWx0ZXI9InVybCgjZmlsdGVyMF9kKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zNiAxMEMzNiA4Ljg5NTQzIDM1LjEwNDYgOCAzNCA4SDEwQzguODk1NDMgOCA4IDguODk1NDMgOCAxMFYzNEM4IDM1LjEwNDYgOC44OTU0MyAzNiAxMCAzNkwxNSAzNkMxNS42Mjk1IDM2IDE2LjIyMjMgMzYuMjk2NCAxNi42IDM2LjhMMjAuNCA0MS44NjY3QzIxLjIgNDIuOTMzMyAyMi44IDQyLjkzMzMgMjMuNiA0MS44NjY3TDI3LjQgMzYuOEMyNy43Nzc3IDM2LjI5NjQgMjguMzcwNSAzNiAyOSAzNkgzNEMzNS4xMDQ2IDM2IDM2IDM1LjEwNDYgMzYgMzRWMTBaIiBmaWxsPSIjMjk2MUE5Ii8+PC9nPjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIxX2QpIj48cGF0aCBkPSJNMzYuODc1IDZIMzAuMTI1QzI5LjUwMzcgNiAyOSA2LjU1OTY0IDI5IDcuMjVWMTQuNzVDMjkgMTUuNDQwNCAyOS41MDM3IDE2IDMwLjEyNSAxNkgzNi44NzVDMzcuNDk2MyAxNiAzOCAxNS40NDA0IDM4IDE0Ljc1VjcuMjVDMzggNi41NTk2NCAzNy40OTYzIDYgMzYuODc1IDZaIiBmaWxsPSIjMzY0RTc4IiBzdHJva2U9IndoaXRlIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMzEgOUgzNiIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTMxIDExSDM2IiBzdHJva2U9IndoaXRlIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48cGF0aCBkPSJNMzEgMTNIMzQiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvZz48ZGVmcz48ZmlsdGVyIGlkPSJmaWx0ZXIwX2QiIHg9IjAiIHk9IjAiIHdpZHRoPSI0NCIgaGVpZ2h0PSI1MC42NjY3IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+PGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz48ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIvPjxmZU9mZnNldC8+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNCIvPjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjI1IDAiLz48ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvdyIvPjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW49IlNvdXJjZUdyYXBoaWMiIGluMj0iZWZmZWN0MV9kcm9wU2hhZG93IiByZXN1bHQ9InNoYXBlIi8+PC9maWx0ZXI+PGZpbHRlciBpZD0iZmlsdGVyMV9kIiB4PSIyNC41IiB5PSIxLjUiIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOSIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnM9InNSR0IiPjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+PGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiLz48ZmVPZmZzZXQvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiLz48ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+PGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3ciLz48ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvdyIgcmVzdWx0PSJzaGFwZSIvPjwvZmlsdGVyPjwvZGVmcz48L3N2Zz4=",contentType:"image/svg+xml",width:31.43,height:36.43,angle:0,xoffset:0,yoffset:14};exports.countryPointFlagOutlookReportPictureMarkerSymbolObject=l;var M={labelExpressionInfo:{expression:"' ' + $feature.eventCount + ' '"},useCodedValues:!1,labelPlacement:"center-center",symbol:{type:"esriTS",color:[255,255,255,255],backgroundColor:[0,0,0,255],borderLineSize:0,borderLineColor:[0,0,0,255],haloSize:0,haloColor:[0,0,0,255],verticalAlignment:"middle",horizontalAlignment:"center",rightToLeft:!1,angle:0,xoffset:0,yoffset:15,kerning:!1,font:{family:"Arial",size:11,style:"normal",weight:"bold",decoration:"none"}}};exports.countryPointLabelClassObject=M;
},{}],"ACsP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./helpers")),t=o(require("../../api/mapApi")),n=require("./config");function o(e){return e&&e.__esModule?e:{default:e}}function i(o){var i=o.getCountriesAndEvents,a=o.baseMapJson;e.default.whenEsriReady(function(o){var r=o.FeatureLayer,u=o.Point,l=o.Graphic,s=o.Popup,d=o.LabelClass,p=o.PictureMarkerSymbol,c=o.domClass,f=o.domConstruct,y=o.array,g=o.Polygon,v=o.Map,h=o.VectorTileLayer,m=null,w=null,C=null,E=null,P=2,L=null,b=new h(a),N=new p(n.countryPointFlagOutlookReportPictureMarkerSymbolObject),I=new d(n.countryPointLabelClassObject);function S(e){e&&t.default.getDestinationAirport(e,window.filterParams.geonameIds).then(function(e){var t,n,o=e.data;o.length&&(1===o.length&&"-"===o[0].CityDisplayName||(t=function(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];isNaN(o.Latitude)||isNaN(o.Longitude)||0===o.Latitude||0===o.Latitude||t.push({StationName:o.StationName,CityDisplayName:o.CityDisplayName,StationCode:o.StationCode,x:Number(o.Longitude),y:Number(o.Latitude)})}return t}(o),n=[],y.forEach(t,function(e){var t={sourceData:e},o=new u(e),i=new l(o);i.setAttributes(t),n.push(i)}),C.applyEdits(n,null,null)))}).catch(function(){console.log("Failed to get destination airport")})}function O(){C.graphics&&C.graphics.length&&C.applyEdits(null,null,C.graphics)}function x(e){var t=[];y.forEach(e,function(e){var n={};n.eventCount=e.NumOfEvents>9?"9+":e.NumOfEvents.toString(),n.sourceData=e;var o=new u(e),i=new l(o);i.setAttributes(n),e.FlagOutlookReport&&i.setSymbol(N),t.push(i)}),w.applyEdits(t,null,w.graphics)}function A(){m.graphics&&m.graphics.length&&m.applyEdits(null,null,m.graphics)}(E=new v("map-div",{center:[-46.807,32.553],zoom:P,minZoom:2,showLabels:!0})).addLayers([b]),m=new r(n.featureCountryPolygonCollection,{id:"countryOutlineLayer",outFields:["*"]}),E.addLayer(m),function(){(w=new r(n.featureCountryPointCollection,{id:"countryPinsLayer",outFields:["*"]})).setLabelingInfo([I]),w.on("click",function(n){var o=n.graphic,i=n.graphic.attributes.sourceData;function a(){e.default.showPinPopup(L,E,o,w,i,function(n){var o;(o=n)&&t.default.getCountryShape(o).then(function(t){var n=t.data,i=null;n.length&&(i="mult"===n.substring(0,4).toLowerCase()?e.default.parseCountryShape(n.substring(15,n.length-2).split("), ("),function(e){return e.replace(/\(|\)/g,"").split(", ")}):e.default.parseCountryShape(n.substring(10,n.length-2).split("), ("),function(e){return e.split(", ")}),function(e){var t=[],n={};n.sourceData={GeonameId:e.GeonameId};var o={rings:e.Shape,spatialReference:{wkid:4326}},i=new g(o),a=new l(i);a.setAttributes(n),t.push(a),m.applyEdits(t,null,m.graphics)}({GeonameId:o,Shape:i}))})},function(e){S(e),r(!0)},function(){O(),r(!1)},function(){A(),O(),r(!1)})}function r(e){e?(w.setOpacity(.25),E.getLayer(E.layerIds[0]).setOpacity(.25)):(w.setOpacity(1),E.getLayer(E.layerIds[0]).setOpacity(1))}if(A(),O(),r(!1),$(".esriPopup").hasClass("esriPopupHidden"))a();else{var u=L.on("hide",function(){a(),u.remove()});L.hide()}window.biod.map.gaEvent("CLICK_MAP_PIN",i.CountryName)});var o=E.on("layer-add-result",function(t){if("countryPinsLayer"===t.layer.id){var n=i();x(e.default.groupEventsByCountries(n)),o.remove()}});E.addLayer(w)}(),C=new r(n.featureAirportPointCollection,{id:"destinationAirportPointsLayer",outFields:["*"]}),E.addLayer(C),(L=new s({highlight:!1,offsetY:-8,anchor:"top"},f.create("div"))).resize(280,210),c.add(L.domNode,"light"),E.infoWindow=L,E.on("pan-end",function(e){var t=null;function n(){clearInterval(t)}if(window.biod.map.gaEvent("PAN_MAP"),E.infoWindow.isShowing){var o=E.geographicExtent.xmin,i=E.geographicExtent.xmax,a=E.infoWindow.location.x;if(o>a)i>=(r=a+360)&&o<=r&&(E.infoWindow.location.x=r,E.infoWindow.reposition());else if(i<a){var r;i>=(r=a-360)&&o<=r&&(E.infoWindow.location.x=r,E.infoWindow.reposition())}}n(),t=setInterval(function(){E.infoWindow.isShowing?E.infoWindow.reposition():n()},5e3)}),E.on("zoom-end",function(e){P<e.level?window.biod.map.gaEvent("CLICK_ZOOM_IN",null,e.level):P>e.level&&window.biod.map.gaEvent("CLICK_ZOOM_OUT",null,e.level),P=e.level}),window.biod.map.updatePoints=function(t,n){var o=t.map(function(e){return{CountryGeonameId:e.CountryGeonameId,CountryName:e.CountryName,CountryPoint:e.CountryPoint}}),i=[],a=new Set;n.forEach(function(e){a.has(e.EventId)||(i.push({EventId:e.EventId,EventTitle:e.EventTitle,Summary:e.Summary.replace(/\r?\n/," "),CountryName:e.CountryName,StartDate:e.StartDate,EndDate:e.EndDate,PriorityTitle:e.ExportationPriorityTitle,HasOutlookReport:e.HasOutlookReport}),a.add(e.EventId))});var r={countryArray:o,eventArray:i};x(e.default.groupEventsByCountries(r))}})}var a={renderMap:i};exports.default=a;
},{"./helpers":"OJHT","../../api/mapApi":"OK3k","./config":"tCqu"}],"SS27":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,o,n,r,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var c="";if(o)switch(o.constructor){case Number:c=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:c="; expires="+o;break;case Date:c="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+c+(r?"; domain="+r:"")+(n?"; path="+n:"")+(s?"; secure":""),!0},removeItem:function(e,t,o){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,o=0;o<t;o++)e[o]=decodeURIComponent(e[o]);return e}};exports.default=e;
},{}],"Focm":[function(require,module,exports) {
"use strict";var i=o(require("../src/app/map/index")),d=o(require("../src/app/utils/cookies"));function o(i){return i&&i.__esModule?i:{default:i}}window.biod=window.biod||{},window.biod.urls=window.biod.urls||{},window.biod.map=window.biod.map||{},window.biod.utils=window.biod.utils||{},window.biod.map.renderMap=i.default.renderMap,window.biod.utils.docCookies=d.default;
},{"../src/app/map/index":"ACsP","../src/app/utils/cookies":"SS27"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map