$border-color:       #dadada;
$group-border-color: #bdb5a5;
$font-color:         #7a7a7a;
$font-bold-color:    #4f4f4f;
$hover-bg-color:     #fefcf7;

$horizontal-padding: 1rem;

$group-heading-line-height: 1.2rem; 
$event-summary-line-height: 1.125rem;
$icon-height:               1rem;

@keyframes summarytext-loading {
  0% { opacity: 0.1; }
  35% { opacity: 0.05; }
  70% { opacity: 0.1; }
  100% { opacity: 0.1; }
}

.eventlist {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  
  // Expanded Group
  &__group--expanded {
    & .eventlistheading__icon {
      transform: rotate(180deg);
    }

    & .eventlist__lists {
      height: auto;
    }
  }
  
  // Collapsed Group
  &__group--collapsed {
    & .eventlistheading__icon {
      transform: rotate(0deg);
    }
    
    & .eventlist__lists {
      height: 0;
    }
  }
  
  &__group {
    &--hidden {
      display: none;
    }
    
    &--loading {
      & .eventlistsummary__cases .eventlistsummary__valuetext {
        position: relative;

        &:after {
          content: '';
          position: absolute;
          left: 0.4rem;
          top: 0.125rem;
          right: 0;
          bottom: 0.125rem;
          border-radius: 5px;
          background-color: $font-bold-color;
          animation: summarytext-loading 1s linear infinite;
        }
      }

      & .eventlist__groupheading {
        cursor: default;
      }
      
      & .eventlist__groupheadingtext {
        position: relative;
        display: block;

        &:after {
          content: '';
          position: absolute;
          left: 0;
          top: 0.125rem;
          right: 0;
          bottom: 0.125rem;
          border-radius: 5px;
          background-color: $font-bold-color;
          animation: summarytext-loading 1s linear infinite;
        }
      }
      
      & .eventlistheading__icon {
        display: none;
      }
    }
  }
  
  // Group heading (includes group name and collapse/expand icon)
  &__groupheading {
    padding: 0.7rem $horizontal-padding;
    border-bottom: 1px solid $border-color;
    background-color: rgba(246, 243, 236, 0.3);
    font-family: "Source Sans Pro", sans-serif;
    font-style: normal;
    font-weight: 600;
    font-size: 1rem;
    line-height: $group-heading-line-height;
    color: $font-bold-color;
    cursor: pointer;
    
    &text {
      display: inline-block;
    }
    
    & .eventlistheading__icon {
      float: right;
      height: $group-heading-line-height;
    }
  }
  
  &__groupsummary {
    background-color: rgba(246, 243, 236, 0.3);
    display: flex;
    width: 100%;
  }
  
  &__lists {
    overflow: hidden;

    & .eventlist__countsummary {
      padding: 0.7rem $horizontal-padding;
      font-weight: normal;
      font-size: 0.75rem;
      line-height: 1rem;
      color: $font-color;
      border-bottom: 1px solid $border-color;
      
      &-bold {
        font-weight: bold;
        color: $font-bold-color;
      }
      
      &--button {
        @extend .eventlist__countsummary;
      }
    }
  }

  &__primarylist {
    &--empty {
      & .eventlist__countsummary--button,
      & .eventlist__content {
        display: none;
      }
    }
    
    &--all {
      & .eventlist__countsummary--all {
        display: inline-block;
      }
      
      & .eventlist__countsummary--some {
        display: none;
      }
    }

    &--some {
      & .eventlist__countsummary--all {
        display: none;
      }

      & .eventlist__countsummary--some {
        display: inline-block;
      }
    }
  }
  
  &__secondarylist {
    &--expanded {
      & .eventlist__content {
        display: block;
      }
      
      & .eventlist__togglebutton {
        &--collapsed {
          display: none;
        }
        
        &--expanded {
          display: block;
        }
      }
    }
    
    &--collapsed {
      & .eventlist__content {
        display: none;
      }

      & .eventlist__togglebutton {
        &--collapsed {
          display: block;
        }

        &--expanded {
          display: none;
        }
      }
    }
    
    &--empty {
      & .eventlist__countsummary--button,
      & .eventlist__content {
        display: none;
      }
    }
    
    & .eventlist__togglebutton {
      padding: 0.5rem;
    }
  }
  
  &__togglebutton {
    text-align: center;
    border: 1px solid $group-border-color;
    border-radius: 0.25rem;
    cursor: pointer;
    
    &:hover {
      background-color: $hover-bg-color;
    }
  }
  
  & .eventlist__noresults {
    display: none;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 100%;
    width: 100%;
    
    &--text {
      width: 180px;
      font-weight: 600;
      color: #aaa;
      font-size: 1.25rem;
      margin-bottom: 0.7rem;
    }
    
    &--link {
      width: 180px;
      text-decoration: underline;
      color: #ae9f7e;
      cursor: pointer;
      font-weight: 400;
      font-size: 1.125rem;
      padding-bottom: 3rem;
    }
  }

  &--noresults {
    & .eventlist__noresults {
      display: flex;
    }
  }
}

.eventlistsummary  {
  padding: 1.25rem $horizontal-padding;
  box-sizing: border-box;
  flex-grow: 1;
  flex-basis: 50%;
  border-bottom: 1px solid $border-color;
  
  &__vertdivider {
    background-color: $border-color;
    flex-basis: 1px;
    flex-grow: 0;
  }
  
  &__value {
    display: flex;
    align-items: start;
    font-weight: 700;
    font-size: 0.85rem;
    line-height: 1rem;
    color: $font-bold-color;
    margin-bottom: 0.2rem;
    
    & .eventlistsummary__icon {
      flex-grow: 0;
      flex-basis: 1.3rem;
      height: $icon-height;
    }
    
    & span {
      flex-grow: 1;
      padding-left: 0.2rem;
    }
  }
  
  &__description {
    font-size: 0.75rem;
    line-height: 1rem;
    color: $font-color;
  }

  &__cases--zero {
    & .eventlistsummary__description {
      display: none;
    }
  }
}

.eventlistitem {
  padding: 1.3rem $horizontal-padding;
  border-bottom: 1px solid $border-color;
  line-height: 1.375rem;
  cursor: pointer;
  position: relative;
  
  &:hover {
    background-color: $hover-bg-color;
  }
  
  &--active,
  &--active:hover {
    background-color: #fafafa;
  }
  
  // Risk icons and their tooltips
  &__tooltip {
    float: right;

    & .eventlistitem__icon {
      height: $icon-height;

      &--risk {
        margin-left: 0.7rem;
        margin-right: 0.2rem;
      }
    }

    &--report {
      vertical-align: middle;
      
      & .eventlistitem__icon {
        height: $icon-height;
        margin-right: 0.2rem;
      }
    }
  }
  
  &__date {
    color: #aaa;
    font-weight: 600;
    font-size: 0.875rem;
    margin-bottom: 0.15rem;
    line-height: $icon-height;
  }
  
  &__title {
    color: #000;
    font-weight: 600;
    font-size: 1rem;
    margin-bottom: 0.15rem;
  }
  
  &__source {
    font-weight: 600;
    font-size: 0.8125rem;
    text-transform: uppercase;
    color: #ae9f7e;
    
    &--extra {
      @extend .eventlistitem__source;
      color: #6e6e6e;
    }
    
    &--empty {
      display: none;
    }
  }
  
  &__summary {
    max-height: $event-summary-line-height * 2;
    margin-top: 0.25rem;
    color: #7a7a7a;
    font-size: 0.875rem;
    font-weight: normal;
    line-height: $event-summary-line-height;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;

    &--empty {
      display: none;
    }
  }
}

.risktooltip {
  padding: 0.5rem;
  
  &__icon {
    height: $icon-height;
  }
  
  &__title {
    font-family: "Source Sans Pro", sans-serif;
    font-weight: 600;
    line-height: 0.875rem;
    color: #afafaf;
    font-size: .75rem;
    padding-bottom: 0.25rem;
  }
  
  &__value {
    font-family: "Source Sans Pro",sans-serif;
    font-weight: 700;
    line-height: 1.375rem;
    color: #3c3c3c;
    font-size: 1rem;
    padding-bottom: 0.25rem;
  }
  
  &__note {
    font-family: "Source Sans Pro", sans-serif;
    line-height: 0.9375rem;
    color: #616161;
    font-size: .75rem;
  }
}